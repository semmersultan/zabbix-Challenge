# zabbix-Challenge

This repository contains the code and documentation for my submission of the NSW Education Zabbix Challenge (see https://github.com/semmersultan/zabbix-Challenge.git)

This challenge was very fun to do and the open ended style of the specification was challenging as I needed to select technologies that could work everywhere as well as being careful that I didn't go too far out of scope in the limited timeframe.

The application is a simple zabbix servers that responds on the following endpoints.
I have used the makefile to make things easier: to start

**make test-lint-yaml**
```
This will check the yml syntax before run the actual application
```

**make build**
```
This will build the one container image contain zabbix-server-mysql zabbix-frontend-php zabbix-agent
```
**make show**

```
show the latest image , e.g. zabbix-test:latest
```
**make deploy**
```
This will compose the latest build image and pass the environment variable from docker-compose file
-----------------compose the new build container
Creating zabbixchallenge_zabbix-semmer_1
Attaching to zabbixchallenge_zabbix-semmer_1
zabbix-semmer_1  | ==> Starting MySQL...
zabbix-semmer_1  | ==> Creating Zabbix database...
zabbix-semmer_1  | ==> Import initial schema and data.
```
**make add-host**

```
-----------------add host using ansible playbook
 [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'


PLAY [all] ************************************************************************************************************************************
skipping: no hosts matched

PLAY RECAP ************************************************************************************************************************************
```
**make export-template**
```
-----------------export template using ansible playbook

PLAY [all] ************************************************************************************************************************************

TASK [Gathering Facts] *****************************************************************************************
```

# Assumptions

An assumption was made that the zabbix_server does not need to handle a large scale production workload but should be in a state that allows it to be consistently reviewed and tested.

# Technology Used

Zabbix - zabbix 4.0  {zabbix-server zabbix-agent apache2}.

Ubuntu - 16.04

Makefile - use to simply the processes incase you need to bundle with CI/CD in future.

Docker - Docker satisfied the condition that the application be packaged as a deployable artifact with dependencies enclosed.

Ansible - Use to automate the process

# To run the app locally

```
docker run -it zabbix-test  /bin/bash  

```

# Clone the repository and run the app
```
git clone https://github.com/semmersultan/zabbix-Challenge.git
cd zabbix-Challenge
make build && make deploy
```

# Reflections

There are several things I would like to improve with this project and fully intend to implement them in the future.

The default container is very large (794 MB) for such a small project and doesn't provide the best experience for the interviewer reviewing the application as they have to wait a minute or two for the container to pull before anything happens.
Given more time I would have reviewed more applicable container OS's or built my own base linux image with a much lighter footprint.

More security handling could be implemented especially around container, I have started new branch insead of buggy the 'master' with the name 'shush' for implementing encrption around the project. the souce code found here: https://github.com/semmersultan/zabbix-Challenge.git and change the branch to shush.

Running the project locally (not from docker) does not give you all of the build properties as the properties are populated and mapped into the container at build time.
This means there is a slight inconsistency between the raw code and the code in production which can lead to serious issues in larger projects.
The risk of this issue could be lessened by running an integration test in the CI process against the container as well which would ensure that the build properties generated by CircleCI/Travis don't break the application.
